<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			body{
				height: 3000px;
			}
			.empty{height: 100px;}
			.head{width: 100%;height: 100px;background-color: dodgerblue;position: relative;}
		</style>
	</head>
	<body>
		<div class="empty">
		</div>
		<div class="head">
		</div>
		<script type="text/javascript">
//			获取元素
			var empty = document.querySelector('.empty');
			var head = document.querySelector('.head');
//			获取head的距离顶部的高度
			var height = head.offsetTop;
//			动态获取窗口滚动
			window.onscroll = function(){
//				获取滚动到顶部之间的值
				var scrollT = document.documentElement.scrollTop;
//				判断如果滚动值大于head的高度
				if (scrollT>height) {
//					动态改变相对定位的top值
					head.style.top=scrollT-height+'px';
//					会出现一个bug,原因是浏览器滚动的像素不一样,可大可小
//					因为往下滚动,当scrollT大于height会改变top值，改滚动一次的话，
//					有可能滚动偏大，导致不执行if语句导致top大于height无法返回原
//					位，便宜自身位置的值等于浏览器一次滚动的值
				}else{
//					把相对定位top为0,避免出现偏移
					head.style.top=0;
				}
			}
			
			
//			console.log(height);
			
		</script>
	</body>
</html>
