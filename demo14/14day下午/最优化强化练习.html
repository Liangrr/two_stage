<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../css/reset.css" />
		<style type="text/css">
			form {
				margin: 100px auto;
				width: 450px;
				height: 250px;
				background-color: lightskyblue;
			}
			
			label {
				width: 100%;
			}
			
			span {
				display: inline-block;
				width: 80px;
				height: 40px;
				line-height: 40px;
				padding-left: 20px;
				font-size: 14px;
			}
			
			label:nth-child(1) span:nth-child(1) {
				margin-top: 10px;
			}
			
			input {
				width: 180px;
				height: 27px;
				padding: 10px;
				box-sizing: border-box;
			}
			button {
				width: 180px;
				height: 27px;
				padding: 10px;
				box-sizing: border-box;
			}
			
			#sub {
				padding: 0;
				width: 100px;
				height: 30px;
				border: none;
				border-radius: 10px;
				background-color: red;
				color: white;
				margin-left: 50px;
				margin-top: 20px;
			}
			
			#res {
				padding: 0;
				width: 100px;
				height: 30px;
				border: none;
				border-radius: 10px;
				background-color: red;
				color: white;
				margin-left: 30px;
			}
			
			b {
				display: inline-block;
				height: 25px;
				line-height: 25px;
				margin-left: 10px;
				padding: 0 10px;
				box-sizing: border-box;
			}
		</style>
	</head>

	<body>
		<form action="index.html" method="post">
			<label><span>姓名:</span>	<input type="text"		pattern='^[\u4e00-\u9fa5]{2,4}$'	tip=''	placeholder="请输入你的姓名"/><b></b></label><br/>
			<label><span>手机:</span>	<input type="number"	pattern='^1[35789]\d{9}$'			placeholder="请输入你的手机"/><b></b></label><br/>
			<label><span>密码:</span>	<input type="password"	pattern='^\w{6,15}$'				placeholder="请输入你的密码"/><b></b></label><br/>
			<label><span>确认密码:</span>	<input type="password"	pattern='^\w{6,15}$'				placeholder="请再次输入你的密码"/><b></b></label><br/>
			<button type="submit"	id="sub">提交</button>
			<button type="reset"	id="res">重置</button>
		</form>
		<script type="text/javascript">
//			1.掌握正则表达式的优势
//			2.掌握正则表达 式修饰符的使用
//			3.掌握常用元字符的使用
//			4. 写一个表单验证,有姓名,手机号,密码,确认密码,点击提交验证,验证不通过,在文本框下方提示
		
		var inp = document.querySelectorAll('input');
		var hint = document.querySelectorAll('b');
		var index = 0;
		
		for (var i = 0;i<inp.length;i++) {
			inp[i].index = i;
			inp[i].onblur = function() {
				index = this.index; 
				check(this,index);
			}
		}
		
		function check(ele,index) {
			var pat =  ele.getAttribute('pattern');
			var reg = new RegExp(pat);
			var val = ele.value;
			if (index==3) {
					if (reg.test(val) && val == inp[index-1].value) {
						hint[index].innerText = '你的输入正确';
				   	    hint[index].style.color = 'greenyellow';
					}else {
						hint[index].innerText = '你的输入有误';
						hint[index].style.color = 'red';
					}
			}else if (reg.test(val)) {
					hint[index].innerText = '你的输入正确';
				   	hint[index].style.color = 'greenyellow';
			}else{
					hint[index].innerText = '你的输入有误';
					hint[index].style.color = 'red';
			}
			
		}
		</script>
	</body>

</html>